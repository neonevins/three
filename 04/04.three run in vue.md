# 04-three run in vue

## 1. vue项目运行three的方法

* 项目初始化

```bash
npm i vue-cli -g
vue init webpack demo
cd demo
npm i three -S
```

* 组件的搭建

/components/Three-com.vue

```vue
<template>
  <div class="three-canvas"></div>
</template>

<script>
  //导入THREE
  import * as THREE from 'three'
  //导入three的控制模块
  import {OrbitControls} from 'three/examples/jsm/controls/OrbitControls'
  export default {
    name: 'ThreeCom',
    methods: {
      getCube () {
        this.geometry = new THREE.BoxGeometry( 1, 2, 3)
        this.material = new THREE.MeshNormalMaterial()
        return new THREE.Mesh(this.geometry, this.material)
      },
      getCamera () {
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000)
        camera.position.z = 5
        return camera
      },
      init () {
        // render cube
        this.cube = this.getCube()
        this.scene = new THREE.Scene()
        //render camera
        this.camera = this.getCamera()
        this.renderer = new THREE.WebGLRenderer()
        this.renderer.setSize(window.innerWidth, window.innerHeight)
        document.querySelector('.three-canvas').appendChild( this.renderer.domElement )
        this.scene.add(this.cube)
        this.renderer.render(this.scene, this.camera)
        this.controls = new OrbitControls(this.camera, this.renderer.domElement)
      },
      animate () {
        requestAnimationFrame(this.animate)
        this.cube.rotation.x += 0.01
        this.cube.rotation.y += 0.01
        //渲染模型将场景,在相机视角渲染
        this.controls.update()
        this.renderer.render(this.scene, this.camera)
      },
    },
    mounted () {
      this.init()
      this.animate()
    }
  }
</script>

<style scoped>

</style>
```

